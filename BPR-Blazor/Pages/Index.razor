@page "/index"
@inject ILocalStorageService LocalStorage
@attribute [Authorize]

<PageTitle>Index</PageTitle>

<h1>Hello, world! </h1>

Welcome to your new app.
<AuthorizeView>
    <h3>Hi @context.User.Identity.Name</h3>
    <h4>Go to see your new profile <a href="/UserProfile/{@context.User.Identity.Name}">Click me</a> </h4>
</AuthorizeView>
<SurveyPrompt Title="How is Blazor working for you?" />

@code{
   
    string token = "";
    string username = "";
    protected async override void OnInitialized()
    {
        token = await LocalStorage.GetItemAsStringAsync("token");
        username = await LocalStorage.GetItemAsStringAsync("username");
        Console.WriteLine(token);
        Console.WriteLine(username);
        Console.WriteLine("Hello World");
       
    }
}
